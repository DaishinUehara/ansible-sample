# ansible-sample

ansibleで展開するときの設計のひな型とansibleのコードを考える。

## サーバ仮想マシン割り当て(サンプル)

|No.|システム名|環境|プラットフォーム|リージョン|ゾーン|ホスト名|OS名|OSバージョン|サーバスペック|HDD容量|IPアドレス|備考|
|---:|:---|:---|:---|:---|:----|:---|:---|:---|:---|---:|:---|:---|
|1|システム1|開発|GCP|us-west1|a|www1.test.local|CentOS|7.4|micro-f1|30GB|192.168.1.1||
|2|システム2|開発|GCP|us-west1|b|www2.test.local|CentOS|7.4|micro-f1|30GB|192.168.1.2||

## グループ・サーバ関係一覧(サンプル)

|No.|[グループ名]|[子グループ名]/ホスト名|備考|
|--:|:----------|:--------------------|:---|
|1|[web-server]|www1.test.local||

## グループ・サーバ インストールパッケージ(サンプル)

|No.|[グループ名]/ホスト名|パッケージ名|パッケージバージョン|備考|
|--:|:--|:--|:--|:--|
|1|[web-server]|httpd|||

## グループ・サーバ パラメータ変更(サンプル)

|No.|[グループ名]/ホスト名|設定ファイル|パラメータ|設定値|備考|
|--:|:--|:--|:--|:--|:--|:--|
|1|www1.test.local|/etc/hostname||www1.test.local||

## グループ・サーバ テンプレート適用(サンプル)

|No.|[グループ名]/ホスト名|適用ファイル|設定テンプレート|{{パラメータ}}|設定値|備考|
|--:|:--|:--|:--|:--|:--|:--|
|1|www1.test.local|/etc/hostname|../templates/hostname.j2|{{hostname}}|www1.test.local||

## 前提条件

- 以下のものは命名規約で一意に決められている
  - システム名
  - ホスト名
  - グループ名
  - リージョン
- 以下の組み合わせは命名規約で一意に決められている
  - プラットフォーム - ゾーン

一意という意味は名前が一緒であれば、名前空間内で実体が1つということです。
